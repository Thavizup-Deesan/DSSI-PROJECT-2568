@startuml
title กระบวนการจัดซื้อวัสดุภาครัฐ (Government Material Procurement Activity)


|Officer (เจ้าหน้าที่พัสดุ)|
start
:นำเข้าโครงการและงบประมาณ (Import Project);
:ตรวจสอบและแก้ไขโครงการให้ถูกต้อง ( PRJ checking);
:ระบุผู้เข้าร่วมโครงการ ( PRJ checking);
:กดเริ่มกระบวนการสั่งซื้อ (Start PRJ);
|User (ผู้เข้าร่วมของโครงการ)|
repeat

    :สร้างใบสั่งซื้อ (Create order);
    repeat
        repeat
            :ตรวจสอบและแก้ไขให้ถูกต้อง;
            |System (ระบบ)|
            :ตรวจสอบวงเงินคงเหลือ (Check Budget);
        repeat while (งบพอหรือไม่?) is (ไม่พอ) ->[แก้ไข]

        ->พอ;
        :กันวงเงิน (Reserve Budget);

        |Officer (เจ้าหน้าที่พัสดุ)|
        :export file .xslx สำหรับสร้างใบสั่งซื้อเพื่อขออนุมัติโครงการ;
        :ระบุกรรมการตรวจรับ;
    repeat while (การพิจารณาของหัวหน้าภาค/หัวหน้าโครงการ) is (ให้แก้ไข)  -> [แก้ไข]
    -> อนุมัติ;
    :ส่งใบสั่งซื้อให้งานพัสดุ;
    repeat
        :สร้างใบสั่งซื้อย่อย พร้อมแนบใบเสร็จ(.pdf/.jpg);
        |Committee (คณะกรรมการตรวจรับ)|
        :ตรวจสอบความละเอียดสินค้า (Inspect Items);
        |Officer (เจ้าหน้าที่พัสดุ)|
        if (ผลการตรวจรับ? (Inspection Result)) then (ถูกต้อง (Pass))
            :กดยืนยันการตรวจรับ (Confirm Inspection);
        else (ไม่ถูกต้อง (Reject))
            :ปฏิเสธรับของ (Reject Goods);
            :แจ้งผู้ขายแก้ไข;
            stop
        endif
    repeat while (รายการสั่งซื้อครบถ้วนหรือไม่) is (ยังไม่ครบ)

    -> ครบ;
    |System (ระบบ)|
    :คำนวนงบประมาณ;

    |Officer (เจ้าหน้าที่พัสดุ)|
    :ตั้งเบิกจ่ายเงิน (Ready for Payment);
    

repeat while (โครงการดำเนินการสมบูรณ์แล้ว) is (ยังไม่ปิดโครงการ)
    -> ปิดโครงการ;
    :สรุปโครงการและปิดโครงการ;

stop

@enduml